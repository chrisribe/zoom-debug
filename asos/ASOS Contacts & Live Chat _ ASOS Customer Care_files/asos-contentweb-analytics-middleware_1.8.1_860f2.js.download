(window.sharedJsonP=window.sharedJsonP||[]).push([["asos-contentweb-analytics-middleware|1.8.1|860f2"],{"6d7a5":function(n,r){!function(){"use strict";var r={d:function(n,e){for(var t in e)r.o(e,t)&&!r.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},o:function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},r:function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}},e={};function t(n,r){return function(n){if(Array.isArray(n))return n}(n)||function(n,r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n)){var e=[],t=!0,o=!1,a=void 0;try{for(var i,s=n[Symbol.iterator]();!(t=(i=s.next()).done)&&(e.push(i.value),!r||e.length!==r);t=!0);}catch(n){o=!0,a=n}finally{try{t||null==s.return||s.return()}finally{if(o)throw a}}return e}}(n,r)||function(n,r){if(n){if("string"==typeof n)return o(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?o(n,r):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(n,r){(null==r||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}function a(n){var r=n&&Object.entries(n);return r&&r.length&&r.forEach((function(n){var r=t(n,2),e=r[0],o=r[1];window.s.linkTrackVars.length&&!window.s.linkTrackVars.split(",").includes(e)&&(window.s.linkTrackVars+=",".concat(e)),window.s[e]=o})),window.s.linkTrackVars}function i(n){var r=n&&Object.entries(n);if(r&&r.length){var e=[];r.forEach((function(n){var r=t(n,2),o=r[0],a=r[1];if(a){var i=a.toString().includes("event")?o:"".concat(o,"=").concat(a);window.s.linkTrackEvents.length&&!window.s.linkTrackEvents.split(",").includes(o)&&(window.s.linkTrackEvents+=",".concat(o)),e.push(i)}})),window.s.events=e.join(",")}return s.linkTrackEvents}function c(n){return new Promise((function(r,e){n&&window.s||e("missing config or sdk"),a(n.linkVars),i(n.eventVars),function(n){if(window.s&&window.asos){var r=window.asos.webContext.getWebContext(),e=r.platform,t=r.storeId,o=r.browseCountry,a=r.browseCurrency,i="".concat(e," ").concat(t.toLowerCase()),c=window.s&&""!==window.s.getQueryParamValue("CTAref",!0)?window.s.getQueryParamValue("CTAref",!0).toLowerCase():"",w=window.performance&&window.performance.timing,l=w&&w.responseStart-w.navigationStart,u=w&&w.domContentLoadedEventEnd-w.navigationStart;s.server=i,s.prop5=(new Date).toISOString(),s.prop6=n.linkVars.prop6||c,s.prop7="".concat(o.toLowerCase(),"|").concat(a.toLowerCase()),s.prop10=s.getPreviousValue(window.s.pageName.toLowerCase(),"gpv_p10","").toLowerCase(),s.prop11=encodeURI(window.location.href.replace(/%20/gi,"+")),s.eVar29=l,s.eVar30=u,s.eVar112=o,s.eVar113=a;var d=s.linkTrackVars.concat(",server,prop5,prop6,prop7,prop10,prop11,eVar29,eVar30,eVar112,eVar113"),f=new Set(d.split(","));s.linkTrackVars=Array.from(f).join(",")}}(n),window.s.registerPostTrackCallback((function(){r()})),window.s_code=window.s.t(),window.s_code&&document.write(window.s_code)}))}function w(n){return new Promise((function(r,e){n&&window.s||e("missing config or sdk");var t=n.linkType||"o",o={linkTrackVars:a(n.linkVars),linkTrackEvents:i(n.eventVars)};window.s.registerPostTrackCallback((function(){r()})),window.s.tl(!0,t,n.eventName||"",o)}))}r.r(e),r.d(e,{trackPageInteraction:function(){return w},trackPageLoad:function(){return c}}),n.exports=e}()}}]);
//# sourceMappingURL=asos-contentweb-analytics-middleware~1.8.1~860f2.js.map