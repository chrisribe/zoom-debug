(window.sharedJsonP=window.sharedJsonP||[]).push([["microsoft.applicationinsights-properties-js|2.6.2|fa5bf"],{"12d2a":function(e,t,n){"use strict";n.r(t),n.d(t,"User",(function(){return g}));var i=n("6a33a"),a=n("ab6a7"),s=n("799d9"),o=n("27ecf"),r=n("176b3"),c=n("45103"),u=n("9dd01");function l(e){return!("string"!=typeof e||!e||e.match(/,|;|=| |\|/))}var g=function(){function e(t,n){this.isNewUser=!1;var g=Object(s.safeGetLogger)(n),d=Object(o.safeGetCookieMgr)(n);Object(i.default)(e,this,(function(n){var i=d.get(e.userCookieName);if(i){n.isNewUser=!1;var s=i.split(e.cookieSeparator);s.length>0&&(n.id=s[0])}if(n.config=t,!n.id){var o=t||{},f=(o.getNewId?o.getNewId():null)||r.newId;n.id=f(o.idLength?t.idLength():22);var p=Object(c.toISOString)(new Date);n.accountAcquisitionDate=p,n.isNewUser=!0;var b=[n.id,p];d.set(e.userCookieName,b.join(e.cookieSeparator),31536e3);var x=t.namePrefix&&t.namePrefix()?t.namePrefix()+"ai_session":"ai_session";Object(a.utlRemoveStorage)(g,x)}n.accountId=t.accountId?t.accountId():void 0;var S=d.get(e.authUserCookieName);if(S){var v=(S=decodeURI(S)).split(e.cookieSeparator);v[0]&&(n.authenticatedId=v[0]),v.length>1&&v[1]&&(n.accountId=v[1])}n.setAuthenticatedUserContext=function(t,i,a){if(void 0===a&&(a=!1),!l(t)||i&&!l(i))g.throwInternal(u.LoggingSeverity.WARNING,u._InternalMessageId.SetAuthContextFailedAccountName,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);else{n.authenticatedId=t;var s=n.authenticatedId;i&&(n.accountId=i,s=[n.authenticatedId,n.accountId].join(e.cookieSeparator)),a&&d.set(e.authUserCookieName,encodeURI(s))}},n.clearAuthenticatedUserContext=function(){n.authenticatedId=null,n.accountId=null,d.del(e.authUserCookieName)}}))}return e.cookieSeparator="|",e.userCookieName="ai_user",e.authUserCookieName="ai_authUser",e}()},"2b667":function(e,t,n){"use strict";n.r(t);var i=n("0ad99"),a=n("6a33a"),s=n("45103"),o=n("799d9"),r=n("9dd01"),c=n("c78ff"),u=n("04b42"),l=n("6c8e1"),g=n("eb227"),d=n("4ca75"),f=n("4c756"),p=function(e){function t(){var n,i,u=e.call(this)||this;return u.priority=110,u.identifier=g.PropertiesPluginIdentifier,Object(a.default)(t,u,(function(e,a){e.initialize=function(o,r,c,u){a.initialize(o,r,c,u);var f=e._getTelCtx(),p=e.identifier,b=t.getDefaultConfig();i=i||{},Object(s.objForEachKey)(b,(function(e,t){i[e]=function(){return f.getConfig(p,e,t())}})),e.context=new l.TelemetryContext(r,i),n=Object(d.getExtensionByName)(c,g.BreezeChannelIdentifier),e.context.appId=function(){return n?n._appId:null},e._extConfig=i},e.processTelemetry=function(t,n){if(Object(s.isNullOrUndefined)(t));else{n=e._getTelCtx(n),t.name===f.PageView.envelopeType&&n.diagLog().resetInternalMessageCount();var i=e.context||{};if(i.session&&"string"!=typeof e.context.session.id&&i.sessionManager&&i.sessionManager.update(),function(t,n){Object(s.getSetValue)(t,"tags",[]),Object(s.getSetValue)(t,"ext",{});var i=e.context;i.applySessionContext(t,n),i.applyApplicationContext(t,n),i.applyDeviceContext(t,n),i.applyOperationContext(t,n),i.applyUserContext(t,n),i.applyOperatingSystemContxt(t,n),i.applyWebContext(t,n),i.applyLocationContext(t,n),i.applyInternalContext(t,n),i.cleanUp(t,n)}(t,n),i.user&&i.user.isNewUser){i.user.isNewUser=!1;var a=new o._InternalLogMessage(r._InternalMessageId.SendBrowserInfoOnUserInit,(Object(c.getNavigator)()||{}).userAgent||"");n.diagLog().logInternalMessage(r.LoggingSeverity.CRITICAL,a)}e.processNext(t,n)}}})),u}return Object(i.__extendsFn)(t,e),t.getDefaultConfig=function(){return{instrumentationKey:function(){},accountId:function(){return null},sessionRenewalMs:function(){return 18e5},samplingPercentage:function(){return 100},sessionExpirationMs:function(){return 864e5},cookieDomain:function(){return null},sdkExtension:function(){return null},isBrowserLinkTrackingEnabled:function(){return!1},appId:function(){return null},namePrefix:function(){},idLength:function(){return 22},getNewId:function(){return null}}},t}(u.BaseTelemetryPlugin);t.default=p},"4b585":function(e,t,n){"use strict";n.r(t),n.d(t,"Device",(function(){return i}));var i=function(){this.id="browser",this.deviceClass="Browser"}},"6c8e1":function(e,t,n){"use strict";n.r(t),n.d(t,"TelemetryContext",(function(){return S}));var i=n("6a33a"),a=n("45103"),s=n("c78ff"),o=n("799d9"),r=n("cb674"),c=n("c7929"),u=n("4c756"),l=n("cccd0"),g=n("4b585"),d=n("7e939"),f=n("12d2a"),p=n("885f1"),b=n("933b7");function x(e,t){e&&e[t]&&0===Object(a.objKeys)(e[t]).length&&delete e[t]}var S=function e(t,n){var S=this,v=t.logger;this.appId=function(){return null},Object(i.default)(e,this,(function(e){e.application=new l.Application,e.internal=new d.Internal(n),Object(s.hasWindow)()&&(e.sessionManager=new r._SessionManager(n,t),e.device=new g.Device,e.location=new p.Location,e.user=new f.User(n,t),e.telemetryTrace=new b.TelemetryTrace(void 0,void 0,void 0,v),e.session=new r.Session),e.applySessionContext=function(t,n){var i=e.session,s=e.sessionManager;i&&Object(a.isString)(i.id)?Object(a.setValue)(Object(a.getSetValue)(t.ext,c.Extensions.AppExt),"sesId",i.id):s&&s.automaticSession&&Object(a.setValue)(Object(a.getSetValue)(t.ext,c.Extensions.AppExt),"sesId",s.automaticSession.id,a.isString)},e.applyOperatingSystemContxt=function(t,n){Object(a.setValue)(t.ext,c.Extensions.OSExt,e.os)},e.applyApplicationContext=function(t,n){var i=e.application;if(i){var s=Object(a.getSetValue)(t,"tags");Object(a.setValue)(s,c.CtxTagKeys.applicationVersion,i.ver,a.isString),Object(a.setValue)(s,c.CtxTagKeys.applicationBuild,i.build,a.isString)}},e.applyDeviceContext=function(t,n){var i=e.device;if(i){var s=Object(a.getSetValue)(Object(a.getSetValue)(t,"ext"),c.Extensions.DeviceExt);Object(a.setValue)(s,"localId",i.id,a.isString),Object(a.setValue)(s,"ip",i.ip,a.isString),Object(a.setValue)(s,"model",i.model,a.isString),Object(a.setValue)(s,"deviceClass",i.deviceClass,a.isString)}},e.applyInternalContext=function(t,n){var i=e.internal;if(i){var s=Object(a.getSetValue)(t,"tags");Object(a.setValue)(s,c.CtxTagKeys.internalAgentVersion,i.agentVersion,a.isString),Object(a.setValue)(s,c.CtxTagKeys.internalSdkVersion,i.sdkVersion,a.isString),t.baseType!==o._InternalLogMessage.dataType&&t.baseType!==u.PageView.dataType||(Object(a.setValue)(s,c.CtxTagKeys.internalSnippet,i.snippetVer,a.isString),Object(a.setValue)(s,c.CtxTagKeys.internalSdkSrc,i.sdkSrc,a.isString))}},e.applyLocationContext=function(e,t){var n=S.location;n&&Object(a.setValue)(Object(a.getSetValue)(e,"tags",[]),c.CtxTagKeys.locationIp,n.ip,a.isString)},e.applyOperationContext=function(t,n){var i=e.telemetryTrace;if(i){var s=Object(a.getSetValue)(Object(a.getSetValue)(t,"ext"),c.Extensions.TraceExt,{traceID:void 0,parentID:void 0});Object(a.setValue)(s,"traceID",i.traceID,a.isString),Object(a.setValue)(s,"name",i.name,a.isString),Object(a.setValue)(s,"parentID",i.parentID,a.isString)}},e.applyWebContext=function(e,t){var n=S.web;n&&Object(a.setValue)(Object(a.getSetValue)(e,"ext"),c.Extensions.WebExt,n)},e.applyUserContext=function(t,n){var i=e.user;if(i){var s=Object(a.getSetValue)(t,"tags",[]);Object(a.setValue)(s,c.CtxTagKeys.userAccountId,i.accountId,a.isString);var o=Object(a.getSetValue)(Object(a.getSetValue)(t,"ext"),c.Extensions.UserExt);Object(a.setValue)(o,"id",i.id,a.isString),Object(a.setValue)(o,"authId",i.authenticatedId,a.isString)}},e.cleanUp=function(e,t){var n=e.ext;n&&(x(n,c.Extensions.DeviceExt),x(n,c.Extensions.UserExt),x(n,c.Extensions.WebExt),x(n,c.Extensions.OSExt),x(n,c.Extensions.AppExt),x(n,c.Extensions.TraceExt))}}))}},"7e939":function(e,t,n){"use strict";n.r(t),n.d(t,"Internal",(function(){return i}));var i=function(e){this.sdkVersion=(e.sdkExtension&&e.sdkExtension()?e.sdkExtension()+"_":"")+"javascript:2.6.2"}},"885f1":function(e,t,n){"use strict";n.r(t),n.d(t,"Location",(function(){return i}));var i=function(){}},"933b7":function(e,t,n){"use strict";n.r(t),n.d(t,"TelemetryTrace",(function(){return o}));var i=n("e86f4"),a=n("176b3"),s=n("c78ff"),o=function(e,t,n,o){this.traceID=e||Object(a.generateW3CId)(),this.parentID=t,this.name=n;var r=Object(s.getLocation)();!n&&r&&r.pathname&&(this.name=r.pathname),this.name=i.DataSanitizer.sanitizeString(o,this.name)}},cb674:function(e,t,n){"use strict";n.r(t),n.d(t,"Session",(function(){return g})),n.d(t,"_SessionManager",(function(){return d}));var i=n("6a33a"),a=n("ab6a7"),s=n("799d9"),o=n("27ecf"),r=n("45103"),c=n("9dd01"),u=n("c78ff"),l=n("176b3"),g=function(){},d=function(){function e(t,n){var d,f,p=Object(s.safeGetLogger)(n),b=Object(o.safeGetCookieMgr)(n);Object(i.default)(e,this,(function(n){function i(e,t){var n=!1,i=t.split("|");if(i.length>=2)try{var a=+i[1]||0,s=+i[2]||0;isNaN(a)||a<=0?p.throwInternal(c.LoggingSeverity.WARNING,c._InternalMessageId.SessionRenewalDateIsZero,"AI session acquisition date is 0, session will be reset"):isNaN(s)||s<=0?p.throwInternal(c.LoggingSeverity.WARNING,c._InternalMessageId.SessionRenewalDateIsZero,"AI session renewal date is 0, session will be reset"):i[0]&&(e.id=i[0],e.acquisitionDate=a,e.renewalDate=s,n=!0)}catch(e){p.throwInternal(c.LoggingSeverity.CRITICAL,c._InternalMessageId.ErrorParsingAISessionCookie,"Error parsing ai_session value ["+(t||"")+"], session will be reset - "+Object(r.getExceptionName)(e),{exception:Object(u.dumpObj)(e)})}return n}function s(e,t){var i=e.acquisitionDate;e.renewalDate=t;var a=n.config,s=a.sessionRenewalMs(),o=i+a.sessionExpirationMs()-t,r=[e.id,i,t],c=0;c=o<s?o/1e3:s/1e3;var u=a.cookieDomain?a.cookieDomain():null;b.set(d(),r.join("|"),a.sessionExpirationMs()>0?c:null,u),f=t}t||(t={}),Object(r.isFunction)(t.sessionExpirationMs)||(t.sessionExpirationMs=function(){return e.acquisitionSpan}),Object(r.isFunction)(t.sessionRenewalMs)||(t.sessionRenewalMs=function(){return e.renewalSpan}),n.config=t,d=function(){return n.config.namePrefix&&n.config.namePrefix()?"ai_session"+n.config.namePrefix():"ai_session"},n.automaticSession=new g,n.update=function(){var t=Object(r.dateNow)(),o=!1,u=n.automaticSession;u.id||(o=!function(e,t){var n=!1,s=b.get(d());if(s&&Object(r.isFunction)(s.split))n=i(e,s);else{var o=Object(a.utlGetLocalStorage)(p,d());o&&(n=i(e,o))}return n||!!e.id}(u));var g=n.config.sessionExpirationMs();if(!o&&g>0){var x=n.config.sessionRenewalMs(),S=t-u.acquisitionDate,v=t-u.renewalDate;o=(o=(o=S<0||v<0)||S>g)||v>x}o?function(e){var t=n.config||{},i=(t.getNewId?t.getNewId():null)||l.newId;n.automaticSession.id=i(t.idLength?t.idLength():22),n.automaticSession.acquisitionDate=e,s(n.automaticSession,e),Object(a.utlCanUseLocalStorage)()||p.throwInternal(c.LoggingSeverity.WARNING,c._InternalMessageId.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")}(t):(!f||t-f>e.cookieUpdateInterval)&&s(u,t)},n.backup=function(){var e,t,i,s=n.automaticSession;e=s.id,t=s.acquisitionDate,i=s.renewalDate,Object(a.utlSetLocalStorage)(p,d(),[e,t,i].join("|"))}}))}return e.acquisitionSpan=864e5,e.renewalSpan=18e5,e.cookieUpdateInterval=6e4,e}()},cccd0:function(e,t,n){"use strict";n.r(t),n.d(t,"Application",(function(){return i}));var i=function(){}}}]);
//# sourceMappingURL=microsoft.applicationinsights-properties-js~2.6.2~fa5bf.js.map