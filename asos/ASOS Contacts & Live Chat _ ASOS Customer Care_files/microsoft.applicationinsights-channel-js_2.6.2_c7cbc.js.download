(window.sharedJsonP=window.sharedJsonP||[]).push([["microsoft.applicationinsights-channel-js|2.6.2|c7cbc"],{"15f54":function(e,t,n){"use strict";n.r(t),n.d(t,"SamplingScoreGenerator",(function(){return i}));var r=n("f035c"),a=n("3f2bd"),i=function(){function e(){this.hashCodeGeneragor=new r.HashCodeScoreGenerator,this.keys=new a.ContextTagKeys}return e.prototype.getSamplingScore=function(e){return e.tags&&e.tags[this.keys.userId]?this.hashCodeGeneragor.getHashCodeScore(e.tags[this.keys.userId]):e.ext&&e.ext.user&&e.ext.user.id?this.hashCodeGeneragor.getHashCodeScore(e.ext.user.id):e.tags&&e.tags[this.keys.operationId]?this.hashCodeGeneragor.getHashCodeScore(e.tags[this.keys.operationId]):e.ext&&e.ext.telemetryTrace&&e.ext.telemetryTrace.traceID?this.hashCodeGeneragor.getHashCodeScore(e.ext.telemetryTrace.traceID):100*Math.random()},e}()},"206d9":function(e,t,n){"use strict";n.r(t),n.d(t,"ArraySendBuffer",(function(){return c})),n.d(t,"SessionStorageSendBuffer",(function(){return l}));var r=n("ab6a7"),a=n("9dd01"),i=n("45103"),o=n("c78ff"),s=n("6a33a"),c=function e(t){var n=[];Object(s.default)(e,this,(function(e){e.enqueue=function(e){n.push(e)},e.count=function(){return n.length},e.clear=function(){n.length=0},e.getItems=function(){return n.slice(0)},e.batchPayloads=function(e){return e&&e.length>0?t.emitLineDelimitedJson()?e.join("\n"):"["+e.join(",")+"]":null},e.markAsSent=function(t){e.clear()},e.clearSent=function(e){}}))},l=function(){function e(t,n){var c,l=!1;Object(s.default)(e,this,(function(s){var u=g(e.BUFFER_KEY),d=g(e.SENT_BUFFER_KEY);function f(e,t){var n=[];return Object(i.arrForEach)(t,(function(t){Object(i.isFunction)(t)||-1!==Object(i.arrIndexOf)(e,t)||n.push(t)})),n}function g(e){var s=e;try{s=n.namePrefix&&n.namePrefix()?n.namePrefix()+"_"+s:s;var c=Object(r.utlGetSessionStorage)(t,s);if(c){var l=Object(o.getJSON)().parse(c);if(Object(i.isString)(l)&&(l=Object(o.getJSON)().parse(l)),l&&Object(i.isArray)(l))return l}}catch(e){t.throwInternal(a.LoggingSeverity.CRITICAL,a._InternalMessageId.FailedToRestoreStorageBuffer," storage key: "+s+", "+Object(i.getExceptionName)(e),{exception:Object(o.dumpObj)(e)})}return[]}function p(e,s){var c=e;try{c=n.namePrefix&&n.namePrefix()?n.namePrefix()+"_"+c:c;var l=JSON.stringify(s);Object(r.utlSetSessionStorage)(t,c,l)}catch(e){Object(r.utlSetSessionStorage)(t,c,JSON.stringify([])),t.throwInternal(a.LoggingSeverity.WARNING,a._InternalMessageId.FailedToSetStorageBuffer," storage key: "+c+", "+Object(i.getExceptionName)(e)+". Buffer cleared",{exception:Object(o.dumpObj)(e)})}}(c=u.concat(d)).length>e.MAX_BUFFER_SIZE&&(c.length=e.MAX_BUFFER_SIZE),p(e.SENT_BUFFER_KEY,[]),p(e.BUFFER_KEY,c),s.enqueue=function(n){c.length>=e.MAX_BUFFER_SIZE?l||(t.throwInternal(a.LoggingSeverity.WARNING,a._InternalMessageId.SessionStorageBufferFull,"Maximum buffer size reached: "+c.length,!0),l=!0):(c.push(n),p(e.BUFFER_KEY,c))},s.count=function(){return c.length},s.clear=function(){c=[],p(e.BUFFER_KEY,[]),p(e.SENT_BUFFER_KEY,[]),l=!1},s.getItems=function(){return c.slice(0)},s.batchPayloads=function(e){return e&&e.length>0?n.emitLineDelimitedJson()?e.join("\n"):"["+e.join(",")+"]":null},s.markAsSent=function(n){c=f(n,c),p(e.BUFFER_KEY,c);var r=g(e.SENT_BUFFER_KEY);r instanceof Array&&n instanceof Array&&((r=r.concat(n)).length>e.MAX_BUFFER_SIZE&&(t.throwInternal(a.LoggingSeverity.CRITICAL,a._InternalMessageId.SessionStorageBufferFull,"Sent buffer reached its maximum size: "+r.length,!0),r.length=e.MAX_BUFFER_SIZE),p(e.SENT_BUFFER_KEY,r))},s.clearSent=function(t){var n=g(e.SENT_BUFFER_KEY);n=f(t,n),p(e.SENT_BUFFER_KEY,n)}}))}return e.BUFFER_KEY="AI_buffer",e.SENT_BUFFER_KEY="AI_sentBuffer",e.MAX_BUFFER_SIZE=2e3,e}()},"25ede":function(e,t,n){"use strict";n.r(t),n.d(t,"EnvelopeCreator",(function(){return m})),n.d(t,"DependencyEnvelopeCreator",(function(){return I})),n.d(t,"EventEnvelopeCreator",(function(){return C})),n.d(t,"ExceptionEnvelopeCreator",(function(){return _})),n.d(t,"MetricEnvelopeCreator",(function(){return S})),n.d(t,"PageViewEnvelopeCreator",(function(){return O})),n.d(t,"PageViewPerformanceEnvelopeCreator",(function(){return E})),n.d(t,"TraceEnvelopeCreator",(function(){return T}));var r=n("0ad99"),a=n("4767f"),i=n("2b805"),o=n("c7929"),s=n("aa942"),c=n("2fdde"),l=n("ef85c"),u=n("086bf"),d=n("20f0f"),f=n("4c756"),g=n("364fe"),p=n("042be"),v=n("45103"),y=n("c78ff"),b=n("9dd01");function h(e,t,n){return Object(v.setValue)(e,t,n,v.isTruthy)}var m=function(){function e(){}return e.extractPropsAndMeasurements=function(e,t,n){Object(v.isNullOrUndefined)(e)||Object(v.objForEachKey)(e,(function(e,r){Object(v.isNumber)(r)?n[e]=r:Object(v.isString)(r)?t[e]=r:Object(y.hasJSON)()&&(t[e]=Object(y.getJSON)().stringify(r))}))},e.createEnvelope=function(t,n,r,o){var s=new a.Envelope(t,o,n);h(s,"sampleRate",r[i.SampleRate]),(r.baseData||{}).startTime&&(s.time=Object(v.toISOString)(r.baseData.startTime)),s.iKey=r.iKey;var c=r.iKey.replace(/-/g,"");return s.name=s.name.replace("{0}",c),e.extractPartAExtensions(r,s),r.tags=r.tags||[],Object(v.optimizeObject)(s)},e.extractPartAExtensions=function(t,n){var a=n.tags=n.tags||{},i=t.ext=t.ext||{},s=t.tags=t.tags||[],c=i.user;c&&(h(a,o.CtxTagKeys.userAuthUserId,c.authId),h(a,o.CtxTagKeys.userId,c.id||c.localId));var l=i.app;l&&h(a,o.CtxTagKeys.sessionId,l.sesId);var u=i.device;u&&(h(a,o.CtxTagKeys.deviceId,u.id||u.localId),h(a,o.CtxTagKeys.deviceType,u.deviceClass),h(a,o.CtxTagKeys.deviceIp,u.ip),h(a,o.CtxTagKeys.deviceModel,u.model),h(a,o.CtxTagKeys.deviceType,u.deviceType));var d=t.ext.web;if(d){h(a,o.CtxTagKeys.deviceLanguage,d.browserLang),h(a,o.CtxTagKeys.deviceBrowserVersion,d.browserVer),h(a,o.CtxTagKeys.deviceBrowser,d.browser);var f=n.data=n.data||{},g=f.baseData=f.baseData||{},p=g.properties=g.properties||{};h(p,"domain",d.domain),h(p,"isManual",d.isManual?"true":null),h(p,"screenRes",d.screenRes),h(p,"userConsent",d.userConsent?"true":null)}var y=i.os;y&&h(a,o.CtxTagKeys.deviceOS,y.name);var b=i.trace;b&&(h(a,o.CtxTagKeys.operationParentId,b.parentID),h(a,o.CtxTagKeys.operationName,b.name),h(a,o.CtxTagKeys.operationId,b.traceID));for(var m={},I=s.length-1;I>=0;I--){var C=s[I];Object(v.objForEachKey)(C,(function(e,t){m[e]=t})),s.splice(I,1)}Object(v.objForEachKey)(s,(function(e,t){m[e]=t}));var _=Object(r.__assignFn)({},a,m);_[o.CtxTagKeys.internalSdkVersion]||(_[o.CtxTagKeys.internalSdkVersion]="javascript:"+e.Version),n.tags=Object(v.optimizeObject)(_)},e.prototype.Init=function(e,t){this._logger=e,Object(v.isNullOrUndefined)(t.baseData)&&this._logger.throwInternal(b.LoggingSeverity.CRITICAL,b._InternalMessageId.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null.")},e.Version="2.6.2",e}(),I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extendsFn)(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r=n.baseData.measurements||{},a=n.baseData.properties||{};m.extractPropsAndMeasurements(n.data,a,r);var o=n.baseData;if(Object(v.isNullOrUndefined)(o))return t.warnToConsole("Invalid input for dependency data"),null;var l=o.properties&&o.properties[i.HttpMethod]?o.properties[i.HttpMethod]:"GET",u=new s.RemoteDependencyData(t,o.id,o.target,o.name,o.duration,o.success,o.responseCode,l,o.type,o.correlationContext,a,r),d=new c.Data(s.RemoteDependencyData.dataType,u);return m.createEnvelope(t,s.RemoteDependencyData.envelopeType,n,d)},t.DependencyEnvelopeCreator=new t,t}(m),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extendsFn)(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r={},a={};n.baseType!==l.Event.dataType&&(r.baseTypeSource=n.baseType),n.baseType===l.Event.dataType?(r=n.baseData.properties||{},a=n.baseData.measurements||{}):n.baseData&&m.extractPropsAndMeasurements(n.baseData,r,a),m.extractPropsAndMeasurements(n.data,r,a);var i=n.baseData.name,o=new l.Event(t,i,r,a),s=new c.Data(l.Event.dataType,o);return m.createEnvelope(t,l.Event.envelopeType,n,s)},t.EventEnvelopeCreator=new t,t}(m),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extendsFn)(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r=n.baseData.measurements||{},a=n.baseData.properties||{};m.extractPropsAndMeasurements(n.data,a,r);var i=n.baseData,o=u.Exception.CreateFromInterface(t,i,a,r),s=new c.Data(u.Exception.dataType,o);return m.createEnvelope(t,u.Exception.envelopeType,n,s)},t.ExceptionEnvelopeCreator=new t,t}(m),S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extendsFn)(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r=n.baseData,a=r.properties||{},i=r.measurements||{};m.extractPropsAndMeasurements(n.data,a,i);var o=new d.Metric(t,r.name,r.average,r.sampleCount,r.min,r.max,a,i),s=new c.Data(d.Metric.dataType,o);return m.createEnvelope(t,d.Metric.envelopeType,n,s)},t.MetricEnvelopeCreator=new t,t}(m),O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extendsFn)(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r,a=n.baseData;Object(v.isNullOrUndefined)(a)||Object(v.isNullOrUndefined)(a.properties)||Object(v.isNullOrUndefined)(a.properties.duration)?Object(v.isNullOrUndefined)(n.data)||Object(v.isNullOrUndefined)(n.data.duration)||(r=n.data.duration,delete n.data.duration):(r=a.properties.duration,delete a.properties.duration);var i,o=n.baseData;((n.ext||{}).trace||{}).traceID&&(i=n.ext.trace.traceID);var s=o.id||i,l=o.name,u=o.uri,d=o.properties||{},g=o.measurements||{};if(Object(v.isNullOrUndefined)(o.refUri)||(d.refUri=o.refUri),Object(v.isNullOrUndefined)(o.pageType)||(d.pageType=o.pageType),Object(v.isNullOrUndefined)(o.isLoggedIn)||(d.isLoggedIn=o.isLoggedIn.toString()),!Object(v.isNullOrUndefined)(o.properties)){var p=o.properties;Object(v.objForEachKey)(p,(function(e,t){d[e]=t}))}m.extractPropsAndMeasurements(n.data,d,g);var y=new f.PageView(t,l,u,r,d,g,s),b=new c.Data(f.PageView.dataType,y);return m.createEnvelope(t,f.PageView.envelopeType,n,b)},t.PageViewEnvelopeCreator=new t,t}(m),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extendsFn)(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r=n.baseData,a=r.name,i=r.uri||r.url,o=r.properties||{},s=r.measurements||{};m.extractPropsAndMeasurements(n.data,o,s);var l=new g.PageViewPerformance(t,a,i,void 0,o,s,r),u=new c.Data(g.PageViewPerformance.dataType,l);return m.createEnvelope(t,g.PageViewPerformance.envelopeType,n,u)},t.PageViewPerformanceEnvelopeCreator=new t,t}(m),T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extendsFn)(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r=n.baseData.message,a=n.baseData.severityLevel,i=n.baseData.properties||{},o=n.baseData.measurements||{};m.extractPropsAndMeasurements(n.data,i,o);var s=new p.Trace(t,r,a,i,o),l=new c.Data(p.Trace.dataType,s);return m.createEnvelope(t,p.Trace.envelopeType,n,l)},t.TraceEnvelopeCreator=new t,t}(m)},"6329f":function(e,t,n){"use strict";n.r(t),n.d(t,"Sender",(function(){return w}));var r=n("0ad99"),a=n("206d9"),i=n("25ede"),o=n("a6cce"),s=n("eb227"),c=n("4ca75"),l=n("ab6a7"),u=n("2b805"),d=n("08cd5"),f=n("c7438"),g=n("ef85c"),p=n("042be"),v=n("4c756"),y=n("364fe"),b=n("086bf"),h=n("20f0f"),m=n("aa942"),I=n("45103"),C=n("9dd01"),_=n("c78ff"),S=n("04b42"),O=n("7aa36"),E=n("6e8fb"),T=n("6a33a");function j(e){try{return e.responseText}catch(e){}return null}var w=function(e){function t(){var n,r,i,g,p,v=e.call(this)||this;return v.priority=1001,v.identifier=s.BreezeChannelIdentifier,v._XMLHttpRequestSupported=!1,Object(T.default)(t,v,(function(e,s){function y(){Object(I.throwError)("Method not implemented.")}function b(t){var n=t.responseURL;return!(p>=10)&&(!Object(I.isNullOrUndefined)(n)&&""!==n&&n!==e._senderConfig.endpointUrl()&&(e._senderConfig.endpointUrl=function(){return n},++p,!0))}function h(t,n){var r=e._senderConfig.endpointUrl(),a=e._buffer.batchPayloads(t),i=new Blob([a],{type:"text/plain;charset=UTF-8"});Object(_.getNavigator)().sendBeacon(r,i)?(e._buffer.markAsSent(t),e._onSuccess(t,t.length)):(m(t,!0),e.diagLog().throwInternal(C.LoggingSeverity.WARNING,C._InternalMessageId.TransmissionFailed,". Failed to send telemetry with Beacon API, retried with xhrSender."))}function m(t,n){var r=new XMLHttpRequest,a=e._senderConfig.endpointUrl();try{r[u.DisabledPropertyName]=!0}catch(e){}r.open("POST",a,n),r.setRequestHeader("Content-type","application/json"),Object(d.isInternalApplicationInsightsEndpoint)(a)&&r.setRequestHeader(f.RequestHeaders.sdkContextHeader,f.RequestHeaders.sdkContextHeaderAppIdRequest),r.onreadystatechange=function(){return e._xhrReadyStateChange(r,t,t.length)},r.onerror=function(n){return e._onError(t,x(r),n)};var i=e._buffer.batchPayloads(t);r.send(i),e._buffer.markAsSent(t)}function S(t){try{if(t&&""!==t){var n=Object(_.getJSON)().parse(t);if(n&&n.itemsReceived&&n.itemsReceived>=n.itemsAccepted&&n.itemsReceived-n.itemsAccepted===n.errors.length)return n}}catch(n){e.diagLog().throwInternal(C.LoggingSeverity.CRITICAL,C._InternalMessageId.InvalidBackendResponse,"Cannot parse the response. "+Object(I.getExceptionName)(n),{response:t})}return null}function T(t,a){if(void 0===a&&(a=1),t&&0!==t.length){e._buffer.clearSent(t),n++;for(var i=0,o=t;i<o.length;i++){var s=o[i];e._buffer.enqueue(s)}!function(e){var t;if(n<=1)t=10;else{var a=(Math.pow(2,n)-1)/2,i=Math.floor(Math.random()*a*10)+1;i*=e,t=Math.max(Math.min(i,3600),10)}var o=Object(I.dateNow)()+1e3*t;r=o}(a),w()}}function w(){if(!i){var t=r?Math.max(0,r-Object(I.dateNow)()):0,n=Math.max(e._senderConfig.maxBatchInterval(),t);i=setTimeout((function(){e.triggerSend(!0,null,1)}),n)}}function R(e){return 408===e||429===e||500===e||503===e}function x(e,t){return e?"XMLHttpRequest,Status:"+e.status+",Response:"+j(e)||!1:t}function L(t,n){var r=Object(_.getWindow)(),a=new XDomainRequest;a.onload=function(){return e._xdrOnLoad(a,t)},a.onerror=function(n){return e._onError(t,A(a),n)};var i=r&&r.location&&r.location.protocol||"";if(0!==e._senderConfig.endpointUrl().lastIndexOf(i,0))return e.diagLog().throwInternal(C.LoggingSeverity.WARNING,C._InternalMessageId.TransmissionFailed,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),void e._buffer.clear();var o=e._senderConfig.endpointUrl().replace(/^(https?:)/,"");a.open("POST",o);var s=e._buffer.batchPayloads(t);a.send(s),e._buffer.markAsSent(t)}function A(e,t){return e?"XDomainRequest,Response:"+j(e)||!1:t}e.pause=y,e.resume=y,e.flush=function(){try{e.triggerSend(!0,null,1)}catch(t){e.diagLog().throwInternal(C.LoggingSeverity.CRITICAL,C._InternalMessageId.FlushFailed,"flush failed, telemetry will not be collected: "+Object(I.getExceptionName)(t),{exception:Object(_.dumpObj)(t)})}},e.onunloadFlush=function(){if(!1!==e._senderConfig.onunloadDisableBeacon()&&!1!==e._senderConfig.isBeaconApiDisabled()||!Object(c.isBeaconApiSupported)())e.flush();else try{e.triggerSend(!0,h,2)}catch(t){e.diagLog().throwInternal(C.LoggingSeverity.CRITICAL,C._InternalMessageId.FailedToSendQueuedTelemetry,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Object(I.getExceptionName)(t),{exception:Object(_.dumpObj)(t)})}},e.teardown=y,e.initialize=function(i,u,d,f){s.initialize(i,u,d,f);var v=e._getTelCtx(),y=e.identifier;g=new o.Serializer(u.logger),n=0,r=null,0,e._sender=null,p=0;var b=t._getDefaultAppInsightsChannelConfig();if(e._senderConfig=t._getEmptyAppInsightsChannelConfig(),Object(I.objForEachKey)(b,(function(t,n){e._senderConfig[t]=function(){return v.getConfig(y,t,n())}})),e._buffer=e._senderConfig.enableSessionStorageBuffer()&&Object(l.utlCanUseSessionStorage)()?new a.SessionStorageSendBuffer(e.diagLog(),e._senderConfig):new a.ArraySendBuffer(e._senderConfig),e._sample=new E.Sample(e._senderConfig.samplingPercentage(),e.diagLog()),function(e){if(!Object(I.isNullOrUndefined)(e.disableInstrumentationKeyValidation)&&e.disableInstrumentationKeyValidation)return!0;return new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(e.instrumentationKey)}(i)||e.diagLog().throwInternal(C.LoggingSeverity.CRITICAL,C._InternalMessageId.InvalidInstrumentationKey,"Invalid Instrumentation key "+i.instrumentationKey),!e._senderConfig.isBeaconApiDisabled()&&Object(c.isBeaconApiSupported)())e._sender=h;else if(void 0!==typeof XMLHttpRequest){var S=Object(_.getGlobalInst)("XMLHttpRequest");if(S)"withCredentials"in new S?(e._sender=m,e._XMLHttpRequestSupported=!0):void 0!==typeof XDomainRequest&&(e._sender=L)}},e.processTelemetry=function(n,r){r=e._getTelCtx(r);try{if(e._senderConfig.disableTelemetry())return;if(!n)return void r.diagLog().throwInternal(C.LoggingSeverity.CRITICAL,C._InternalMessageId.CannotSendEmptyTelemetry,"Cannot send empty telemetry");if(n.baseData&&!n.baseType)return void r.diagLog().throwInternal(C.LoggingSeverity.CRITICAL,C._InternalMessageId.InvalidEvent,"Cannot send telemetry without baseData and baseType");if(n.baseType||(n.baseType="EventData"),!e._sender)return void r.diagLog().throwInternal(C.LoggingSeverity.CRITICAL,C._InternalMessageId.SenderNotInitialized,"Sender was not initialized");if(l=n,!e._sample.isSampledIn(l))return void r.diagLog().throwInternal(C.LoggingSeverity.WARNING,C._InternalMessageId.TelemetrySampledAndNotSent,"Telemetry item was sampled out and not sent",{SampleRate:e._sample.sampleRate});n[u.SampleRate]=e._sample.sampleRate;var a=t.constructEnvelope(n,e._senderConfig.instrumentationKey(),r.diagLog());if(!a)return void r.diagLog().throwInternal(C.LoggingSeverity.CRITICAL,C._InternalMessageId.CreateEnvelopeError,"Unable to create an AppInsights envelope");var i=!1;if(n.tags&&n.tags[u.ProcessLegacy]&&(Object(I.arrForEach)(n.tags[u.ProcessLegacy],(function(e){try{e&&!1===e(a)&&(i=!0,r.diagLog().warnToConsole("Telemetry processor check returns false"))}catch(e){r.diagLog().throwInternal(C.LoggingSeverity.CRITICAL,C._InternalMessageId.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+Object(I.getExceptionName)(e),{exception:Object(_.dumpObj)(e)},!0)}})),delete n.tags[u.ProcessLegacy]),i)return;var o=g.serialize(a),s=e._buffer.getItems(),c=e._buffer.batchPayloads(s);c&&c.length+o.length>e._senderConfig.maxBatchSizeInBytes()&&e.triggerSend(!0,null,10),e._buffer.enqueue(o),w()}catch(e){r.diagLog().throwInternal(C.LoggingSeverity.WARNING,C._InternalMessageId.FailedAddingTelemetryToBuffer,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Object(I.getExceptionName)(e),{exception:Object(_.dumpObj)(e)})}var l;e.processNext(n,r)},e._xhrReadyStateChange=function(t,r,a){if(4===t.readyState){var i=null;if(e._appId||(i=S(j(t)||t.response))&&i.appId&&(e._appId=i.appId),(t.status<200||t.status>=300)&&0!==t.status){if((301==t.status||308==t.status)&&!b(t))return void e._onError(r,x(t));!e._senderConfig.isRetryDisabled()&&R(t.status)?(T(r),e.diagLog().throwInternal(C.LoggingSeverity.WARNING,C._InternalMessageId.TransmissionFailed,". Response code "+t.status+". Will retry to send "+r.length+" items.")):e._onError(r,x(t))}else if(O.Offline.isOffline()){if(!e._senderConfig.isRetryDisabled()){T(r,10),e.diagLog().throwInternal(C.LoggingSeverity.WARNING,C._InternalMessageId.TransmissionFailed,". Offline - Response Code: "+t.status+". Offline status: "+O.Offline.isOffline()+". Will retry to send "+r.length+" items.")}}else b(t),206===t.status?(i||(i=S(j(t)||t.response)),i&&!e._senderConfig.isRetryDisabled()?e._onPartialSuccess(r,i):e._onError(r,x(t))):(n=0,e._onSuccess(r,a))}},e.triggerSend=function(t,n,a){void 0===t&&(t=!0);try{if(e._senderConfig.disableTelemetry())e._buffer.clear();else{if(e._buffer.count()>0){var o=e._buffer.getItems();!function(t,n){var r=function(){if(e.core.getNotifyMgr)return e.core.getNotifyMgr();return e.core._notificationManager}();if(r&&r.eventsSendRequest)try{r.eventsSendRequest(t,n)}catch(t){e.diagLog().throwInternal(C.LoggingSeverity.CRITICAL,C._InternalMessageId.NotificationException,"send request notification failed: "+Object(I.getExceptionName)(t),{exception:Object(_.dumpObj)(t)})}}(a||0,t),n?n.call(v,o,t):e._sender(o,t)}+new Date}clearTimeout(i),i=null,r=null}catch(t){var s=Object(_.getIEVersion)();(!s||s>9)&&e.diagLog().throwInternal(C.LoggingSeverity.CRITICAL,C._InternalMessageId.TransmissionFailed,"Telemetry transmission failed, some telemetry will be lost: "+Object(I.getExceptionName)(t),{exception:Object(_.dumpObj)(t)})}},e._onError=function(t,n,r){e.diagLog().throwInternal(C.LoggingSeverity.WARNING,C._InternalMessageId.OnError,"Failed to send telemetry.",{message:n}),e._buffer.clearSent(t)},e._onPartialSuccess=function(t,n){for(var r=[],a=[],i=0,o=n.errors.reverse();i<o.length;i++){var s=o[i],c=t.splice(s.index,1)[0];R(s.statusCode)?a.push(c):r.push(c)}t.length>0&&e._onSuccess(t,n.itemsAccepted),r.length>0&&e._onError(r,x(null,["partial success",n.itemsAccepted,"of",n.itemsReceived].join(" "))),a.length>0&&(T(a),e.diagLog().throwInternal(C.LoggingSeverity.WARNING,C._InternalMessageId.TransmissionFailed,"Partial success. Delivered: "+t.length+", Failed: "+r.length+". Will retry to send "+a.length+" our of "+n.itemsReceived+" items"))},e._onSuccess=function(t,n){e._buffer.clearSent(t)},e._xdrOnLoad=function(t,r){var a=j(t);if(!t||a+""!="200"&&""!==a){var i=S(a);i&&i.itemsReceived&&i.itemsReceived>i.itemsAccepted&&!e._senderConfig.isRetryDisabled()?e._onPartialSuccess(r,i):e._onError(r,A(t))}else n=0,e._onSuccess(r,0)}})),v}return Object(r.__extendsFn)(t,e),t.constructEnvelope=function(e,t,n){var a;switch((a=t===e.iKey||Object(I.isNullOrUndefined)(t)?e:Object(r.__assignFn)({},e,{iKey:t})).baseType){case g.Event.dataType:return i.EventEnvelopeCreator.EventEnvelopeCreator.Create(n,a);case p.Trace.dataType:return i.TraceEnvelopeCreator.TraceEnvelopeCreator.Create(n,a);case v.PageView.dataType:return i.PageViewEnvelopeCreator.PageViewEnvelopeCreator.Create(n,a);case y.PageViewPerformance.dataType:return i.PageViewPerformanceEnvelopeCreator.PageViewPerformanceEnvelopeCreator.Create(n,a);case b.Exception.dataType:return i.ExceptionEnvelopeCreator.ExceptionEnvelopeCreator.Create(n,a);case h.Metric.dataType:return i.MetricEnvelopeCreator.MetricEnvelopeCreator.Create(n,a);case m.RemoteDependencyData.dataType:return i.DependencyEnvelopeCreator.DependencyEnvelopeCreator.Create(n,a);default:return i.EventEnvelopeCreator.EventEnvelopeCreator.Create(n,a)}},t._getDefaultAppInsightsChannelConfig=function(){return{endpointUrl:function(){return"https://dc.services.visualstudio.com/v2/track"},emitLineDelimitedJson:function(){return!1},maxBatchInterval:function(){return 15e3},maxBatchSizeInBytes:function(){return 102400},disableTelemetry:function(){return!1},enableSessionStorageBuffer:function(){return!0},isRetryDisabled:function(){return!1},isBeaconApiDisabled:function(){return!0},onunloadDisableBeacon:function(){return!1},instrumentationKey:function(){},namePrefix:function(){},samplingPercentage:function(){return 100}}},t._getEmptyAppInsightsChannelConfig=function(){return{endpointUrl:void 0,emitLineDelimitedJson:void 0,maxBatchInterval:void 0,maxBatchSizeInBytes:void 0,disableTelemetry:void 0,enableSessionStorageBuffer:void 0,isRetryDisabled:void 0,isBeaconApiDisabled:void 0,onunloadDisableBeacon:void 0,instrumentationKey:void 0,namePrefix:void 0,samplingPercentage:void 0}},t}(S.BaseTelemetryPlugin)},"6e8fb":function(e,t,n){"use strict";n.r(t),n.d(t,"Sample",(function(){return s}));var r=n("15f54"),a=n("20f0f"),i=n("799d9"),o=n("9dd01"),s=function(){function e(e,t){this.INT_MAX_VALUE=2147483647,this._logger=t||Object(i.safeGetLogger)(null),(e>100||e<0)&&(this._logger.throwInternal(o.LoggingSeverity.WARNING,o._InternalMessageId.SampleRateOutOfRange,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),this.sampleRate=100),this.sampleRate=e,this.samplingScoreGenerator=new r.SamplingScoreGenerator}return e.prototype.isSampledIn=function(e){var t=this.sampleRate;return null==t||t>=100||(e.baseType===a.Metric.dataType||this.samplingScoreGenerator.getSamplingScore(e)<t)},e}()},"7aa36":function(e,t,n){"use strict";n.r(t),n.d(t,"OfflineListener",(function(){return s})),n.d(t,"Offline",(function(){return c}));var r=n("c78ff"),a=n("176b3"),i=n("45103"),o=n("6a33a"),s=function(){function e(){var t=Object(r.getWindow)(),n=Object(r.getDocument)(),s=!1,c=!0;Object(o.default)(e,this,(function(e){try{if(t&&a.EventHelper.Attach(t,"online",u)&&(a.EventHelper.Attach(t,"offline",d),s=!0),n){var o=n.body||n;Object(i.isUndefined)(o.ononline)||(o.ononline=u,o.onoffline=d,s=!0)}if(s){var l=Object(r.getNavigator)();l&&!Object(i.isNullOrUndefined)(l.onLine)&&(c=l.onLine)}}catch(e){s=!1}function u(){c=!0}function d(){c=!1}e.isListening=s,e.isOnline=function(){var e=!0,t=Object(r.getNavigator)();return s?e=c:t&&!Object(i.isNullOrUndefined)(t.onLine)&&(e=t.onLine),e},e.isOffline=function(){return!e.isOnline()}}))}return e.Offline=new e,e}(),c=s.Offline},a6cce:function(e,t,n){"use strict";n.r(t),n.d(t,"Serializer",(function(){return c}));var r=n("b767d"),a=n("c78ff"),i=n("9dd01"),o=n("45103"),s=n("6a33a"),c=function e(t){Object(s.default)(e,this,(function(e){function n(e,l){var u={};if(!e)return t.throwInternal(i.LoggingSeverity.CRITICAL,i._InternalMessageId.CannotSerializeObject,"cannot serialize object because it is null or undefined",{name:l},!0),u;if(e.__aiCircularRefCheck)return t.throwInternal(i.LoggingSeverity.WARNING,i._InternalMessageId.CircularReferenceDetected,"Circular reference detected while serializing object",{name:l},!0),u;if(!e.aiDataContract){if("measurements"===l)u=c(e,"number",l);else if("properties"===l)u=c(e,"string",l);else if("tags"===l)u=c(e,"string",l);else if(Object(o.isArray)(e))u=s(e,l);else{t.throwInternal(i.LoggingSeverity.WARNING,i._InternalMessageId.CannotSerializeObjectNonSerializable,"Attempting to serialize an object which does not implement ISerializable",{name:l},!0);try{Object(a.getJSON)().stringify(e),u=e}catch(e){t.throwInternal(i.LoggingSeverity.CRITICAL,i._InternalMessageId.CannotSerializeObject,e&&Object(o.isFunction)(e.toString)?e.toString():"Error serializing object",null,!0)}}return u}return e.__aiCircularRefCheck=!0,Object(o.objForEachKey)(e.aiDataContract,(function(a,c){var d=Object(o.isFunction)(c)?c()&r.FieldType.Required:c&r.FieldType.Required,f=Object(o.isFunction)(c)?c()&r.FieldType.Hidden:c&r.FieldType.Hidden,g=c&r.FieldType.Array,p=void 0!==e[a],v=Object(o.isObject)(e[a])&&null!==e[a];if(!d||p||g){if(!f){var y=void 0;void 0!==(y=v?g?s(e[a],a):n(e[a],a):e[a])&&(u[a]=y)}}else t.throwInternal(i.LoggingSeverity.CRITICAL,i._InternalMessageId.MissingRequiredFieldSpecification,"Missing required field specification. The field is required but not present on source",{field:a,name:l})})),delete e.__aiCircularRefCheck,u}function s(e,r){var a;if(e)if(Object(o.isArray)(e)){a=[];for(var s=0;s<e.length;s++){var c=n(e[s],r+"["+s+"]");a.push(c)}}else t.throwInternal(i.LoggingSeverity.CRITICAL,i._InternalMessageId.ItemNotInArray,"This field was specified as an array in the contract but the item is not an array.\r\n",{name:r},!0);return a}function c(e,n,r){var a;return e&&(a={},Object(o.objForEachKey)(e,(function(e,o){if("string"===n)void 0===o?a[e]="undefined":null===o?a[e]="null":o.toString?a[e]=o.toString():a[e]="invalid field: toString() is not defined.";else if("number"===n)if(void 0===o)a[e]="undefined";else if(null===o)a[e]="null";else{var s=parseFloat(o);isNaN(s)?a[e]="NaN":a[e]=s}else a[e]="invalid field: "+r+" is of unknown type.",t.throwInternal(i.LoggingSeverity.CRITICAL,a[e],null,!0)}))),a}e.serialize=function(e){var r=n(e,"root");try{return Object(a.getJSON)().stringify(r)}catch(e){t.throwInternal(i.LoggingSeverity.CRITICAL,i._InternalMessageId.CannotSerializeObject,e&&Object(o.isFunction)(e.toString)?e.toString():"Error serializing object",null,!0)}}}))}},f035c:function(e,t,n){"use strict";n.r(t),n.d(t,"HashCodeScoreGenerator",(function(){return r}));var r=function(){function e(){}return e.prototype.getHashCodeScore=function(t){return 100*(this.getHashCode(t)/e.INT_MAX_VALUE)},e.prototype.getHashCode=function(t){if(""===t)return 0;for(;t.length<e.MIN_INPUT_LENGTH;)t=t.concat(t);for(var n=5381,r=0;r<t.length;++r)n=(n<<5)+n+t.charCodeAt(r),n&=n;return Math.abs(n)},e.INT_MAX_VALUE=2147483647,e.MIN_INPUT_LENGTH=8,e}()}}]);
//# sourceMappingURL=microsoft.applicationinsights-channel-js~2.6.2~c7cbc.js.map